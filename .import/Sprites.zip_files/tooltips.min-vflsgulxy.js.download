define(["require","exports","tslib","react","spectrum/button","spectrum/tertiary_link","spectrum_comments/utils/throttle-debounce","modules/clean/react/comments2/components/tooltip","modules/clean/sharing/views/hover_close_button","modules/constants/trademark","modules/core/browser","modules/core/i18n"],function(e,t,o,n,i,r,s,l,a,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=o.__importDefault(n),a=o.__importDefault(a),c=o.__importStar(c);var p=function(e){return n.default.createElement("div",null,n.default.createElement("div",{className:"arrow-border"}),n.default.createElement("div",{className:"arrow"}),e)},m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setRef=function(e){t.tooltipRef=e},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.content,o=e.children,i=e.onShow;return n.default.createElement(l.Tooltip,{tooltip_classname:"sc-comment-editor-tooltip-container",tooltip_contents:p(t),position:l.TooltipPosition.BOTTOM,on_show:i,show_delay:500,hide_delay:100,ref:this.setRef,interaction_enabled:!0},o)},t})(n.default.PureComponent),f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setRef=function(e){t.tooltipRef=e},t.updateAndShow=s.debounce(function(){t.tooltipRef&&(t.tooltipRef.hide(),t.tooltipRef.show())},300),t.scheduleShowAfterTransition=function(e){"left"===e.propertyName&&t.updateAndShow()},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("transitionend",this.scheduleShowAfterTransition),this.updateAndShow()},t.prototype.componentDidUpdate=function(){this.updateAndShow()},t.prototype.componentWillUnmount=function(){document.removeEventListener("transitionend",this.scheduleShowAfterTransition)},t.prototype.render=function(){var e=this.props,t=e.content,o=e.children,i=e.onShow;return n.default.createElement(l.Tooltip,{tooltip_classname:"sc-comment-editor-tooltip-container",tooltip_contents:p(t),position:l.TooltipPosition.BOTTOM,on_show:i,ref:this.setRef,disableAutoHide:!0},o)},t})(n.default.PureComponent);t.DisabledTimeCodeTooltip=function(e){var t=function(){e.onClick&&e.onClick(),c.open_tab("/help/files-folders/comment-timestamp")},o=n.default.createElement("div",{className:"sc-comment-editor-tooltip"},u._("This file is not on a plan that includes time-based commenting.")," ",n.default.createElement(r.TertiaryLink,{onClick:t},u._("Learn more")));return n.default.createElement(m,{content:o,onShow:e.onShow},e.children)};var h=u._("Leave time-based comments with %(dropbox_professional)s.").format({dropbox_professional:d.DROPBOX_PROFESSIONAL}),_=u._("Try free for 30 days"),b=u._("Leave time-based comments with %(dropbox_business_advanced)s.").format({dropbox_business_advanced:d.DROPBOX_BUSINESS_ADVANCED}),v=function(e,t,o){return{bodyText:e,buttonText:t,url:o}},y={basic_individual:v(h,_,"/pro/try?_tk=upgrade_header_button"),plus_individual:v(h,u._("Learn more"),"/buy/professional?_tk=upgrade_header_button"),standard_team_admin:v(b,_,"/business/try"),standard_team_member:v(b,u._("Contact your admin"),"/teams")},T=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.onClick=function(){var e=t.props,o=e.onClick,n=e.variant;if(t.hideTooltip(),o&&o(),n){var i=y[n];c.open_tab(i.url)}},t.onDismiss=function(){var e=t.props.onDismiss;t.hideTooltip(),e&&e()},t.setRef=function(e){t.ref=e},t}return o.__extends(t,e),t.prototype.hideTooltip=function(){this.ref&&this.ref.tooltipRef&&this.ref.tooltipRef.hide()},t.prototype.componentWillMount=function(){this.hideTooltip()},t.prototype.render=function(){var e=this.props,t=e.variant,o=e.children,r=e.showUpsellExperiment,s=e.dismissUpsellExperiment,l=e.onShow,d=y[t],c=d.bodyText,p=d.buttonText,h=r?f:m,_=n.default.createElement("div",{className:"sc-comment-editor-tooltip"},n.default.createElement("div",{className:"sc-comment-editor-tooltip__header"},n.default.createElement(a.default,{className:"sc-comment-editor-tooltip__x",onClick:this.onDismiss}),n.default.createElement("h4",null,u._("Target your feedback"))),n.default.createElement("div",null,c),n.default.createElement(i.Button,{className:"sc-comment-editor-tooltip__button",onClick:this.onClick,fullWidth:!0},p));return n.default.createElement(h,{content:_,onShow:l,dismissUpsellExperiment:s,ref:this.setRef},o)},t})(n.default.PureComponent);t.UpsellTooltip=T});
//# sourceMappingURL=tooltips.min.js-vflMMXiLQ.map